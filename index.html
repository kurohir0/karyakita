<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karya Kita</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Style -->
    <link rel="stylesheet" href="/karyakita/assets/css/style.css" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/e1687eca8d.js" crossorigin="anonymous"></script>
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
    <section class="navbar-section">
        <header class="p-3 bg-danger text-white">
            <div class="container">
                <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between">
                    <div class="col-md-3 mb-2 mb-md-0">
                        <a href="/karyakita/index.html" class="d-inline-flex link-body-emphasis text-decoration-none">
                            <img src="/karyakita/assets/image/logo.png" alt="" height="50px">
                        </a>
                    </div>
                    <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
                        <li><a href="/karyakita/index.html" class="nav-link px-2">Beranda</a></li>
                        <li><a href="/karyakita/assets/pages/gallery.html" class="nav-link px-2">Galeri</a></li>
                        <li><a href="/karyakita/assets/pages/about.html" class="nav-link px-2">Tentang</a></li>
                        <li><a href="/karyakita/assets/pages/kontak.html" class="nav-link px-2">Kontak</a></li>
                    </ul>
                    <div class="col-md-3 text-end">
                        <a href="/karyakita/assets/pages/login.html"><button type="button"
                                class="btn btn-light me-1">Masuk</button></a>
                        <a href="/karyakita/assets/pages/register.html"><button type="button"
                                class="btn btn-dark">Daftar</button></a>
                    </div>
                </div>
            </div>
        </header>
    </section>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container col-xxl-8 px-4 py-5">
            <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
                <div class="col-10 col-sm-8 col-lg-6">
                    <img src="/karyakita/assets/image/Illustration.png" class="d-block mx-lg-auto img-fluid" alt=""
                        height="400" loading="lazy">
                </div>
                <div class="text-content col-lg-6">
                    <h1 class="display-5 lh-1 mb-3 ml3">Student and Faculty Showcase Portal</h1>
                    <p class="lead">Website Showcase Karya Mahasiswa dan Dosen Teknik Informatika Politeknik Negeri
                        Pontianak</p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                        <a href="/karyakita/assets/pages/register.html"><button type="button"
                                class="btn btn-dark">Daftar</button></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Showcase Section -->
    <section class="showcase">
        <div class="container py-5">
            <h1 class="text-center">Projek Terbaru</h1>
            <div class="container mt-5">
                <div id="project-cards" class="row row-cols-1 row-cols-md-3 g-4"></div>
            </div>
        </div>
    </section>

    <!-- Modal Section -->
    <section class="modals-section">
        <div id="project-modals"></div>
    </section>

    <!-- Footer Section -->
    <section class="footer-section bg-dark text-light">
        <div class="container">
            <footer class="py-5">
                <div class="footer-content row">
                    <div class="col-lg-4 mb-5 mb-lg-0 text-center">
                        <img src="/karyakita/assets/image/logo.png" height="100" alt="">
                        <h3 class="lh-1 mt-2">Student and Faculty Showcase Portal</h3>
                    </div>
                    <div class="text-content col-lg-4 mb-5 mb-lg-0 text-start">
                        <h5>Section</h5>
                        <p>Website Showcase Karya Mahasiswa dan Dosen Teknik Informatika Politeknik Negeri Pontianak</p>
                    </div>
                    <div class="text-content col-lg-4 text-start">
                        <h5>Alamat</h5>
                        <p>Jl. Jenderal Ahmad Yani, Bansir Laut, Pontianak Tenggara, Kota Pontianak, Kalimantan Barat
                            78124</p>
                    </div>
                </div>
            </footer>
        </div>
        <div class="copyright text-center py-4">
            <div class="container"><small>Copyright &copy; 2024 Company, Inc. All rights reserved.</small></div>
        </div>
    </section>

    <!-- Bootstrap Javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Javascript -->
    <script src="/karyakita/assets/js/btt.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script>
        const projects = [{
                id: 1,
                kategori: "PBL",
                title: "Project Website 1",
                date: "20 Agustus 2024",
                img: "/karyakita/assets/image/bg.png"
            },
            {
                id: 2,
                kategori: "Tugas Akhir",
                title: "Project Website 2",
                date: "20 Agustus 2024",
                img: "/karyakita/assets/image/bg.png"
            },
            {
                id: 3,
                kategori: "PKM",
                title: "Project Website 3",
                date: "20 Agustus 2024",
                img: "/karyakita/assets/image/bg.png"
            }
        ];

        function filterProjects(category) {
            const cards = document.querySelectorAll('#project-cards .col');
            cards.forEach(card => {
                const projectCategory = card.querySelector('.card').getAttribute('data-project-category');
                card.style.display = (category === 'all' || projectCategory === category) ? 'block' : 'none';
            });
        }

        function initializeProjects() {
            const projectCardsContainer = document.getElementById('project-cards');
            const projectModalsContainer = document.getElementById('project-modals');

            projects.forEach(project => {
                projectCardsContainer.innerHTML += `
                    <div class="col">
                        <div class="card" data-project-id="${project.id}" data-project-category="${project.kategori}">
                            <img src="${project.img}" class="card-img-top" alt="Gambar Projek">
                            <div class="card-body">
                                <button type="button" class="btn btn-outline-primary btn-sm disabled mb-3">${project.kategori}</button>
                                <h5 class="card-title mb-2">${project.title}</h5>
                                <div class="d-flex mb-3">
                                    <small class="card-text mb-0 text-secondary"><i class="fa fa-clock-o"></i> ${project.date}</small>
                                </div>
                                <div class="card-rating mb-3">
                                    <span class="fa fa-star" data-rating="1"></span>
                                    <span class="fa fa-star" data-rating="2"></span>
                                    <span class="fa fa-star" data-rating="3"></span>
                                    <span class="fa fa-star" data-rating="4"></span>
                                    <span class="fa fa-star" data-rating="5"></span>
                                </div>
                                <button class="btn btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#projectModal${project.id}">Detail</button>
                            </div>
                        </div>
                    </div>`;

                projectModalsContainer.innerHTML += `
                    <div class="modal fade" id="projectModal${project.id}" tabindex="-1" aria-labelledby="projectModalLabel${project.id}" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="projectModalLabel${project.id}">${project.title}</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <img src="${project.img}" alt="${project.title}" class="img-fluid mb-3">
                                    <p>Deskripsi lengkap untuk ${project.title} akan ditampilkan di sini. Anda dapat menambahkan informasi detail lainnya sesuai kebutuhan.</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>`;
            });

            updateAllRatings();
            sortProjects();
        }

        function updateAllRatings() {
            document.querySelectorAll('.card').forEach(card => {
                updateRatingDisplay(card);
            });

            document.querySelectorAll('.card-rating .fa-star').forEach(star => {
                star.addEventListener('click', function () {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    const card = this.closest('.card');
                    const projectId = card.getAttribute('data-project-id');
                    localStorage.setItem(projectId + '-rating', rating);
                    updateRatingDisplay(card);
                    sortProjects();
                });
            });
        }

        function updateRatingDisplay(card) {
            const projectId = card.getAttribute('data-project-id');
            const rating = parseInt(localStorage.getItem(projectId + '-rating') || '0');
            card.querySelectorAll('.fa-star').forEach(star => {
                if (parseInt(star.getAttribute('data-rating')) <= rating) {
                    star.classList.add('checked');
                } else {
                    star.classList.remove('checked');
                }
            });
        }

        function sortProjects() {
            const projectCardsContainer = document.getElementById('project-cards');
            const cards = Array.from(projectCardsContainer.querySelectorAll('.col'));
            const sortedCards = cards.sort((a, b) => {
                const ratingA = parseInt(localStorage.getItem(a.querySelector('.card').getAttribute(
                    'data-project-id') + '-rating') || '0');
                const ratingB = parseInt(localStorage.getItem(b.querySelector('.card').getAttribute(
                    'data-project-id') + '-rating') || '0');
                return ratingB - ratingA;
            });
            sortedCards.forEach(card => projectCardsContainer.appendChild(card));
        }

        document.addEventListener('DOMContentLoaded', initializeProjects);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <script>
        // Wrap every letter in a span
        var textWrapper = document.querySelector('.ml3');
        if (textWrapper) {
            textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

            anime.timeline({
                    complete: function () {
                        // Ensuring the text remains visible after the animation
                        textWrapper.style.opacity = 1;
                    }
                })
                .add({
                    targets: '.ml3 .letter',
                    opacity: [0, 1],
                    easing: "easeInOutQuad",
                    duration: 1000,
                    delay: (el, i) => 150 * (i + 1)
                })
                .add({
                    targets: '.ml3',
                    opacity: 1, // Make sure opacity is set to 1 to remain visible
                    duration: 1000,
                    easing: "easeOutExpo",
                    delay: 1000
                });
        }
    </script>

</body>

</html>