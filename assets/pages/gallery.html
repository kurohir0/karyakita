<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Galeri - Karya Kita</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />

    <!-- Style -->
    <link rel="stylesheet" href="/karyakita/assets/css/style.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://kit.fontawesome.com/e1687eca8d.js" crossorigin="anonymous"></script>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
    <!-- Header section -->
    <section class="navbar-section">
        <header class="p-3 bg-danger text-white">
            <div class="container">
                <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between">
                    <div class="col-md-3 mb-2 mb-md-0">
                        <a href="/karyakita/index.html" class="d-inline-flex link-body-emphasis text-decoration-none">
                            <img src="/karyakita/assets/Image/logo.png" alt="" height="50px">
                        </a>
                    </div>
                    <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
                        <li><a href="/karyakita/index.html" class="nav-link px-2">Beranda</a></li>
                        <li><a href="/karyakita/assets/pages/gallery.html" class="nav-link px-2">Galeri</a></li>
                        <li><a href="/karyakita/assets/pages/about.html" class="nav-link px-2">Tentang</a></li>
                        <li><a href="/karyakita/assets/pages/kontak.html" class="nav-link px-2">Kontak</a></li>
                    </ul>
                    <div class="col-md-3 text-end">
                        <a href="/karyakita/assets/pages/login.html"><button type="button"
                                class="btn btn-light me-1">Masuk</button></a>
                        <a href="/karyakita/assets/pages/register.html"><button type="button"
                                class="btn btn-dark">Daftar</button></a>
                    </div>
                </div>
            </div>
        </header>
    </section>
    <!-- Showcase Section -->
    <section class="showcase">
        <div class="container py-5">
            <h1 class="text-center">Projek Mahasiswa</h1>
            <div class="container mt-5">
                <div class="d-flex justify-content-center mb-4">
                    <button class="btn btn-outline-primary me-2" onclick="filterProjects('all')">Semua</button>
                    <button class="btn btn-outline-primary me-2" onclick="filterProjects('PBL')">PBL</button>
                    <button class="btn btn-outline-primary me-2" onclick="filterProjects('Tugas Akhir')">Tugas
                        Akhir</button>
                    <button class="btn btn-outline-primary me-2" onclick="filterProjects('PKM')">PKM</button>

                </div>
                <div id="project-cards" class="row row-cols-1 row-cols-md-3 g-4"></div>
            </div>
        </div>
    </section>
    <!-- Modal Section -->
    <section class="modals-section">
        <div id="project-modals"></div>
    </section>
    <!-- Footer Section -->
    <section class="footer-section bg-dark text-light">
        <div class="container">
            <footer class="py-5">
                <div class="footer-content row">
                    <div class="col-lg-4 mb-5 mb-lg-0 text-center">
                        <img src="/karyakita/assets/image/logo.png" height="100" alt="">
                        <h3 class="lh-1 mt-2">Student and Faculty Showcase Portal</h3>
                    </div>

                    <div class="text-content col-lg-4 mb-5 mb-lg-0 text-start">
                        <h5>Section</h5>
                        <p>
                            Website Showcase Karya Mahasiswa dan Dosen Teknik Informatika Politeknik Negeri Pontianak
                        </p>
                    </div>

                    <div class="text-content col-lg-4 text-start">
                        <h5>Alamat</h5>
                        <p>Jl. Jenderal Ahmad Yani, Bansir Laut, Pontianak Tenggara, Kota Pontianak, Kalimantan Barat
                            78124</p>
                    </div>
                </div>
            </footer>
        </div>
        <div class="copyright text-center py-4">
            <div class="container"><small>Copyright &copy; 2024 Company, Inc. All rights reserved.</small></div>
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                const projectCategory = card.getAttribute('data-project-category');
                console.log("Project category:", projectCategory); // Debugging
            });
        });
    </script>
</body>
<script>
    const projects = [{
            id: 1,
            kategori: "PBL",
            title: "Project Website 1",
            date: "20 Agustus 2024",
            img: "/karyakita/assets/image/bg.png"
        },
        {
            id: 2,
            kategori: "Tugas Akhir",
            title: "Project Website 2",
            date: "20 Agustus 2024",
            img: "/karyakita/assets/image/bg.png"
        },
        {
            id: 3,
            kategori: "PKM",
            title: "Project Website 3",
            date: "20 Agustus 2024",
            img: "/karyakita/assets/image/bg.png"
        },
        {
            id: 4,
            kategori: "PBL",
            title: "Project Website 4",
            date: "20 Agustus 2024",
            img: "/karyakita/assets/image/bg.png"
        },
        {
            id: 5,
            kategori: "PBL",
            title: "Project Website 5",
            date: "20 Agustus 2024",
            img: "/karyakita/assets/image/bg.png"
        },
        {
            id: 6,
            kategori: "PBL",
            title: "Project Website 6",
            date: "20 Agustus 2024",
            img: "/karyakita/assets/image/bg.png"
        }
    ];

    function filterProjects(category) {
        const cards = document.querySelectorAll('#project-cards .col');
        cards.forEach(card => {
            const projectCategory = card.querySelector('.card').getAttribute('data-project-category');
            card.style.display = (category === 'all' || projectCategory === category) ? 'block' : 'none';
        });
    }

    function initializeProjects() {
        const projectCardsContainer = document.getElementById('project-cards');
        const projectModalsContainer = document.getElementById('project-modals');

        projects.forEach(project => {
            projectCardsContainer.innerHTML += `
                <div class="col">
                    <div class="card" data-project-id="${project.id}" data-project-category="${project.kategori}">
                        <img src="${project.img}" class="card-img-top" alt="Gambar Projek">
                        <div class="card-body">
                            <button type="button" class="btn btn-outline-primary btn-sm disabled mb-3">${project.kategori}</button>
                            <h5 class="card-title mb-2">${project.title}</h5>
                            <div class="d-flex mb-3">
                                <small class="card-text mb-0 text-secondary"><i class="fa fa-clock-o"></i> ${project.date}</small>
                            </div>
                            <div class="card-rating mb-3">
                                <span class="fa fa-star" data-rating="1"></span>
                                <span class="fa fa-star" data-rating="2"></span>
                                <span class="fa fa-star" data-rating="3"></span>
                                <span class="fa fa-star" data-rating="4"></span>
                                <span class="fa fa-star" data-rating="5"></span>
                            </div>
                            <button class="btn btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#projectModal${project.id}">Detail</button>
                        </div>
                    </div>
                </div>`;

            projectModalsContainer.innerHTML += `
                <div class="modal fade" id="projectModal${project.id}" tabindex="-1" aria-labelledby="projectModalLabel${project.id}" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="projectModalLabel${project.id}">${project.title}</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <img src="${project.img}" alt="${project.title}" class="img-fluid mb-3">
                                <p>Deskripsi lengkap untuk ${project.title} akan ditampilkan di sini. Anda dapat menambahkan informasi detail lainnya sesuai kebutuhan.</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>`;
        });

        filterProjects('all'); // Tampilkan semua proyek saat pertama kali dimuat

        document.querySelectorAll('.card-rating .fa-star').forEach(star => {
            star.addEventListener('click', function () {
                const rating = parseInt(this.getAttribute('data-rating'));
                const card = this.closest('.card');
                const projectId = card.getAttribute('data-project-id');
                localStorage.setItem(projectId + '-rating', rating);
                updateRatingDisplay(card);
                sortProjects();
            });
        });

        const cards = Array.from(document.querySelectorAll('.card'));
        cards.forEach(card => {
            updateRatingDisplay(card);
        });
    }

    function updateRatingDisplay(card) {
        const projectId = card.getAttribute('data-project-id');
        const rating = parseInt(localStorage.getItem(projectId + '-rating') || '0');
        card.querySelectorAll('.fa-star').forEach(star => {
            if (parseInt(star.getAttribute('data-rating')) <= rating) {
                star.classList.add('checked');
            } else {
                star.classList.remove('checked');
            }
        });
    }

    function sortProjects() {
        const projectCardsContainer = document.getElementById('project-cards');
        const cards = Array.from(projectCardsContainer.querySelectorAll('.col'));
        const sortedCards = cards.sort((a, b) => {
            const idA = parseInt(a.querySelector('.card').getAttribute('data-project-id'));
            const idB = parseInt(b.querySelector('.card').getAttribute('data-project-id'));
            return idA - idB;
        });
        sortedCards.forEach(card => projectCardsContainer.appendChild(card));
    }

    document.addEventListener('DOMContentLoaded', initializeProjects);
</script>

<!-- Bootstrap Javascript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
</script>

<!-- Javascript -->
<script src="/karyakita/assets/js/btt.js"></script>

</html>